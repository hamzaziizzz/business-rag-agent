# -----------------------------------------------------------------------------
# BASIC PACKAGE ENV (Document‑Only RAG)
# -----------------------------------------------------------------------------

# Logging
RAG_LOG_LEVEL=INFO

# Vector store
RAG_VECTORSTORE=milvus

# Retrieval behavior
RAG_MAX_CHUNKS=4
RAG_MIN_SCORE=0.35
# Per‑type overrides (keep PDFs stricter if needed)
RAG_MIN_SCORE_BY_TYPE=pdf=0.35,markdown=0.3,text=0.3,manual=0.3,db=0.2,api=0.2

# Auth (replace YOUR_API_KEY_HERE)
RAG_API_KEY_MAP='{"YOUR_API_KEY_HERE":{"role":"admin","tenant_id":"default"}}'

# Upload limits (50 MB)
RAG_FILE_MAX_BYTES=52428800

# Answering (LLM on)
RAG_ANSWERER=llm
RAG_LLM_PROVIDER=ollama
RAG_LLM_CONTEXT_MAX_CHARS=12000
# LLM fallback behavior when the model cannot answer: refuse | summarize | extractive
RAG_LLM_FALLBACK=refuse

# Ollama (local LLM)
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama3.1
OLLAMA_TEMPERATURE=0.1
OLLAMA_MAX_TOKENS=512
OLLAMA_TIMEOUT=60

# Source weighting (optional)
RAG_SOURCE_WEIGHTS=db=1.1,api=1.0,pdf=0.9,markdown=0.8,manual=0.8

# Embeddings (OpenAI)
EMBEDDING_PROVIDER=openai
EMBEDDING_DIMENSION=1536
OPENAI_API_KEY=YOUR_OPENAI_KEY_HERE
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# Chunking (token‑based)
RAG_CHUNK_SIZE=1000
RAG_CHUNK_OVERLAP=100
RAG_CHUNK_TOKENS=512
RAG_CHUNK_TOKEN_OVERLAP=64
RAG_TOKENIZER_ENCODING=cl100k_base

# Milvus connection
MILVUS_URI=http://localhost:19530
MILVUS_TOKEN=
MILVUS_COLLECTION=business_documents
MILVUS_CONSISTENCY=Strong

# Milvus indexing (HNSW + BM25 hybrid)
MILVUS_INDEX_TYPE=HNSW
MILVUS_METRIC_TYPE=COSINE
MILVUS_HNSW_M=30
MILVUS_HNSW_EF_CONSTRUCTION=360
MILVUS_HNSW_EF=64
MILVUS_SPARSE_INDEX_ALGO=DAAT_MAXSCORE
RAG_HYBRID_SEARCH=true
